{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\nexport class ChatService {\n  /**\r\n   * Sends a message to the bot API\r\n   * Endpoint: POST /api/chatbot/chat\r\n   */\n  async sendMessage(userId, message) {\n    const requestBody = {\n      userId,\n      message\n    };\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/chatbot/chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(requestBody)\n      });\n      if (!response.ok) {\n        throw new Error(`API Error: ${response.status} ${response.statusText}`);\n      }\n      const data = await response.json();\n\n      // Ensure the response matches the expected format\n      // Note: Backend currently returns 'reply', request asked for 'reply'. \n      // Backend also returns 'timestamp'.\n      return {\n        success: data.success,\n        reply: data.reply,\n        intent: data.intent,\n        // Assuming backend provides this now or will provide\n        timestamp: data.timestamp\n      };\n    } catch (error) {\n      console.error('ChatService Error:', error);\n      throw error;\n    }\n  }\n}\nexport default new ChatService();","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ChatService","sendMessage","userId","message","requestBody","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","statusText","data","json","success","reply","intent","timestamp","error","console"],"sources":["C:/Users/ASUS-PC/Desktop/Projects/RideShare--Chatbot/frontend/src/features/chat/chat_service/api.ts"],"sourcesContent":["import { ChatRequest, ChatResponse } from '../chat_model/types';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\r\n\r\nexport class ChatService {\r\n    /**\r\n     * Sends a message to the bot API\r\n     * Endpoint: POST /api/chatbot/chat\r\n     */\r\n    async sendMessage(userId: string, message: string): Promise<ChatResponse> {\r\n        const requestBody: ChatRequest = {\r\n            userId,\r\n            message,\r\n        };\r\n\r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}/api/chatbot/chat`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(requestBody),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`API Error: ${response.status} ${response.statusText}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            // Ensure the response matches the expected format\r\n            // Note: Backend currently returns 'reply', request asked for 'reply'. \r\n            // Backend also returns 'timestamp'.\r\n            return {\r\n                success: data.success,\r\n                reply: data.reply,\r\n                intent: data.intent, // Assuming backend provides this now or will provide\r\n                timestamp: data.timestamp,\r\n            };\r\n\r\n        } catch (error) {\r\n            console.error('ChatService Error:', error);\r\n            throw error;\r\n        }\r\n    }\r\n}\r\n\r\nexport default new ChatService();\r\n"],"mappings":"AAEA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAE7E,OAAO,MAAMC,WAAW,CAAC;EACrB;AACJ;AACA;AACA;EACI,MAAMC,WAAWA,CAACC,MAAc,EAAEC,OAAe,EAAyB;IACtE,MAAMC,WAAwB,GAAG;MAC7BF,MAAM;MACNC;IACJ,CAAC;IAED,IAAI;MACA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGV,YAAY,mBAAmB,EAAE;QAC7DW,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,WAAW;MACpC,CAAC,CAAC;MAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,cAAcR,QAAQ,CAACS,MAAM,IAAIT,QAAQ,CAACU,UAAU,EAAE,CAAC;MAC3E;MAEA,MAAMC,IAAI,GAAG,MAAMX,QAAQ,CAACY,IAAI,CAAC,CAAC;;MAElC;MACA;MACA;MACA,OAAO;QACHC,OAAO,EAAEF,IAAI,CAACE,OAAO;QACrBC,KAAK,EAAEH,IAAI,CAACG,KAAK;QACjBC,MAAM,EAAEJ,IAAI,CAACI,MAAM;QAAE;QACrBC,SAAS,EAAEL,IAAI,CAACK;MACpB,CAAC;IAEL,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1C,MAAMA,KAAK;IACf;EACJ;AACJ;AAEA,eAAe,IAAItB,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}